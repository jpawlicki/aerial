<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"></meta>
		<script src="common/skills.js"></script>
		<script src="match/render.js"></script>
		<script src="match/control.js"></script>
		<script src="match/logic.js"></script>
		<style>
			html, body {
				height: 100%;
				margin: 0;
				padding: 0;
				width: 100%;
				background-color: #003;
				font-family: sans-serif;
			}
			body {
				display: grid;
				grid-template-rows: min-content 1fr;
				grid-template-columns: min-content 1fr;
			}
			#menu {
				background-color: #ddd;
				grid-row: 1;
				grid-column: 2;
			}
			#control {
				grid-row: 2;
				grid-column: 2;
				background-color: #fff;
			}
			#field {
				grid-row: 1 / 3;
				grid-column: 1;
				height: 100vh;
			}
			.iconbar {
				display: flex;
				justify-content: space-around;
				border-bottom: 2px solid black;
			}
			.iconbar > svg {
				height: 5em;
				width: 5em;
				cursor: pointer;
			}
			.iconbar > svg > image {
				clip-path: circle();
			}
			.iconbar > svg.active > image {
				clip-path: path('M0 1V.5A.5 .5 0 0 1 1 .5L1 1Z');
			}
		</style>
	</head>
	<body>
		<div id="menu"></div>
		<div id="control"></div>
		<svg id="field"></svg>
		<script>
			let teams = [
				new Team("#fc0", "#333", "Fire Ferrets"),
				new Team("#333", "#f00", "Wolfbats"),
			];
			let field = new Field();
			let g_game = 
					new Game(
							field,
							teams,
							[
								[
									new Aerial([0, 4], [1, 0], Math.floor(Math.random() * 80) + ".png", "Jack", teams[0], [Skill.SKILL_LIFT, Skill.SKILL_DROP, Skill.SKILL_FLY, Skill.SKILL_GLIDE, Skill.SKILL_SOAR], [], 6),
									new Aerial([0, 3], [1, 0], Math.floor(Math.random() * 80) + ".png", "Jane", teams[0], [Skill.SKILL_LIFT, Skill.SKILL_DROP, Skill.SKILL_FLY], [], 6),
								],
								[
									new Aerial([field.width - 1, 4], [-1, 0], Math.floor(Math.random() * 80) + ".png", "Evil Jack", teams[1], [], [], 6),
									new Aerial([field.width - 1, 3], [-1, 0], Math.floor(Math.random() * 80) + ".png", "Evil Jane", teams[1], [], [], 6),
								],
							]);
			let controller = new Controller(g_game);
			let g =
					new GameActor(
							g_game,
							0,
							controller,
							document.getElementById("field"),
							document.getElementById("control"));
		</script>
	</body>
</html>
